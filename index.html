<!DOCTYPE html>
<html lang="th">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>Marnthara Input (v3)</title>
    <link rel="stylesheet" href="style.css" />
</head>
<body>
    <header class="main-header">
        <div class="menu-container">
            <button class="btn btn-icon" id="menuBtn" aria-label="‡πÄ‡∏°‡∏ô‡∏π">‚ò∞</button>
            <div class="menu-dropdown" id="menuDropdown">
                <button type="button" class="btn btn-block" id="importBtn">Import (JSON)</button>
                <button type="button" class="btn btn-block" id="exportBtn">Export (JSON)</button>
            </div>
        </div>
        <h1>Marnthara</h1>
        <button type="button" class="btn btn-xs btn-primary outline" id="addRoomHeaderBtn">‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏´‡πâ‡∏≠‡∏á</button>
        <div style="flex:1;"></div>
        <button type="button" class="btn btn-xs btn-primary" id="lockBtn"><span class="lock-text">‡∏•‡πá‡∏≠‡∏Ñ</span> <span class="lock-icon">üîí</span></button>
        <button type="button" class="btn btn-xs btn-danger" id="clearAllBtn">‡∏•‡πâ‡∏≤‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î</button>
    </header>

    <main class="main-content">
        <form id="orderForm" method="post" target="hiddenFrame">
            <section class="card customer-info-card">
                <header class="card-header">‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤</header>
                <div class="card-body grid gap-md">
                    <label class="field-label-container">‡∏ä‡∏∑‡πà‡∏≠
                        <input class="field" name="customer_name" type="text" />
                    </label>
                    <label class="field-label-container">‡∏ó‡∏µ‡πà‡∏≠‡∏¢‡∏π‡πà
                        <input class="field" name="customer_address" type="text" />
                    </label>
                    <label class="field-label-container">‡πÄ‡∏ö‡∏≠‡∏£‡πå‡πÇ‡∏ó‡∏£
                        <input class="field" name="customer_phone" type="text" inputmode="tel" />
                    </label>
                </div>
            </section>

            <section class="rooms-container" id="roomsContainer">
            </section>
            
            <section class="total-summary-card card">
                <header class="card-header">
                    <h2>‡∏™‡∏£‡∏∏‡∏õ‡∏£‡∏≤‡∏Ñ‡∏≤‡πÅ‡∏•‡∏∞‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î</h2>
                </header>
                <div class="total-summary-body" id="totalSummary">
                    </div>
            </section>
            <input type="hidden" name="payload" id="payloadInput" />
            <iframe name="hiddenFrame" style="display:none;"></iframe>
        </form>
    </main>

    <div id="toast-container" class="toast-container"></div>

    <template id="roomTpl">
        <details class="room-details card" open>
            <summary class="room-summary">
                <div class="room-head">
                    <div class="room-icon">üõèÔ∏è</div>
                    <input class="room-name-input" type="text" name="room_name" placeholder="‡∏ä‡∏∑‡πà‡∏≠‡∏´‡πâ‡∏≠‡∏á" required />
                </div>
                <div class="room-head-right">
                    <button type="button" class="btn btn-icon btn-danger" data-action="removeRoom" aria-label="‡∏•‡∏ö‡∏´‡πâ‡∏≠‡∏á‡∏ô‡∏µ‡πâ">‚úï</button>
                    <button type="button" class="btn btn-icon btn-primary" data-action="copyRoom" aria-label="‡∏Ñ‡∏±‡∏î‡∏•‡∏≠‡∏Å‡∏´‡πâ‡∏≠‡∏á‡∏ô‡∏µ‡πâ">üìÑ</button>
                    <span class="room-total-price">0 ‡∏ö.</span>
                </div>
            </summary>
            <div class="room-content grid gap-md">
                <div class="curtains-container" data-curtains-container></div>
                <button type="button" class="btn btn-xs btn-info" data-action="addCurtain">+ ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏à‡∏∏‡∏î‡∏ú‡πâ‡∏≤‡∏°‡πà‡∏≤‡∏ô</button>

                <div class="wallpaper-container" data-wallpaper-container></div>
                <button type="button" class="btn btn-xs btn-info" data-action="addWallpaper">+ ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏ß‡∏≠‡∏•‡∏•‡πå‡πÄ‡∏õ‡πÄ‡∏õ‡∏≠‡∏£‡πå</button>
            </div>
        </details>
    </template>

    <template id="curtainTpl">
        <div class="curtain-card card">
            <div class="curtain-head">
                <span class="curtain-label">‡∏à‡∏∏‡∏î‡∏ú‡πâ‡∏≤‡∏°‡πà‡∏≤‡∏ô <span class="curtain-number"></span></span>
                <div class="actions">
                    <button type="button" class="btn btn-icon btn-danger" data-action="removeCurtain" aria-label="‡∏•‡∏ö‡∏à‡∏∏‡∏î‡∏ú‡πâ‡∏≤‡∏°‡πà‡∏≤‡∏ô">‚úï</button>
                </div>
            </div>
            <div class="curtain-content grid gap-sm">
                <label class="field-label-container">‡∏Ñ‡∏ß‡∏≤‡∏°‡∏Å‡∏ß‡πâ‡∏≤‡∏á (‡∏°.)
                    <input class="field" name="curtain_width_m" type="number" step="0.01" min="0" required />
                </label>
                <label class="field-label-container">‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏π‡∏á (‡∏°.)
                    <input class="field" name="curtain_height_m" type="number" step="0.01" min="0" required />
                </label>
                <div class="row">
                    <label class="field-label-container">‡∏ú‡πâ‡∏≤‡∏´‡∏•‡∏±‡∏Å
                        <input class="field" name="curtain_fabric_m" type="number" step="0.01" min="0" required />
                    </label>
                    <label class="field-label-container">‡∏ú‡πâ‡∏≤‡πÇ‡∏õ‡∏£‡πà‡∏á
                        <input class="field" name="curtain_sheer_m" type="number" step="0.01" min="0" required />
                    </label>
                </div>
                <label class="field-label-container">‡∏™‡πÑ‡∏ï‡∏•‡πå
                    <select class="field" name="curtain_style">
                        <option value="‡∏à‡∏µ‡∏ö">‡∏à‡∏µ‡∏ö</option>
                        <option value="‡∏•‡∏≠‡∏ô">‡∏•‡∏≠‡∏ô</option>
                        <option value="‡∏ï‡∏≤‡πÑ‡∏Å‡πà">‡∏ï‡∏≤‡πÑ‡∏Å‡πà</option>
                    </select>
                </label>
            </div>
            <div class="curtain-summary" data-curtain-summary>
                ‡∏£‡∏≤‡∏Ñ‡∏≤: <span class="price">0</span> ‡∏ö. ‚Ä¢ ‡πÉ‡∏ä‡πâ‡∏ú‡πâ‡∏≤: <span class="price">0.00</span> ‡∏ï‡∏£.‡∏°.
            </div>
        </div>
    </template>

    <template id="wallpaperTpl">
        <div class="wallpaper-card card">
            <div class="wallpaper-head">
                <span class="wallpaper-label">‡∏ß‡∏≠‡∏•‡∏•‡πå‡πÄ‡∏õ‡πÄ‡∏õ‡∏≠‡∏£‡πå <span class="wallpaper-number"></span></span>
                <button type="button" class="btn btn-icon btn-danger" data-action="removeWallpaper" aria-label="‡∏•‡∏ö‡∏ß‡∏≠‡∏•‡∏•‡πå‡πÄ‡∏õ‡πÄ‡∏õ‡∏≠‡∏£‡πå">‚úï</button>
            </div>
            <div class="wallpaper-content grid gap-sm">
                <label class="field-label-container">‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏π‡∏á‡∏´‡πâ‡∏≠‡∏á (‡∏°.)
                    <input class="field" name="wallpaper_height_m" type="number" step="0.01" min="0" required />
                </label>
                <label class="field-label-container">‡∏£‡∏≤‡∏Ñ‡∏≤‡∏ï‡πà‡∏≠‡∏°‡πâ‡∏ß‡∏ô
                    <input class="field" name="wallpaper_price_roll" type="text" inputmode="numeric" required />
                </label>
                <section class="walls-section">
                    <label>‡∏Ñ‡∏ß‡∏≤‡∏°‡∏Å‡∏ß‡πâ‡∏≤‡∏á‡∏ú‡∏ô‡∏±‡∏á (‡πÉ‡∏™‡πà‡∏ó‡∏µ‡∏•‡∏∞‡∏î‡πâ‡∏≤‡∏ô)</label>
                    <div class="walls-container" data-walls-container></div>
                    <button type="button" class="btn btn-xs" data-action="addWall" style="margin-top: var(--space-xs);">+ ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏ú‡∏ô‡∏±‡∏á</button>
                </section>
            </div>
            <div class="wallpaper-summary" data-wallpaper-summary>
                ‡∏£‡∏≤‡∏Ñ‡∏≤: <span class="price">0</span> ‡∏ö. ‚Ä¢ ‡∏û‡∏∑‡πâ‡∏ô‡∏ó‡∏µ‡πà: <span class="price">0.00</span> ‡∏ï‡∏£.‡∏°. ‚Ä¢ ‡πÉ‡∏ä‡πâ <span class="price">0</span> ‡∏°‡πâ‡∏ß‡∏ô
            </div>
        </div>
    </template>

    <template id="wallTpl">
        <div class="wall-input-row">
            <input class="field" name="wall_width_m" type="number" step="0.01" min="0" required aria-label="‡∏Ñ‡∏ß‡∏≤‡∏°‡∏Å‡∏ß‡πâ‡∏≤‡∏á‡∏ú‡∏ô‡∏±‡∏á (‡πÄ‡∏°‡∏ï‡∏£)" />
            <button type="button" class="btn btn-icon btn-danger" data-action="removeWall" aria-label="‡∏•‡∏ö‡∏ú‡∏ô‡∏±‡∏á">‚úï</button>
        </div>
    </template>

    <script src="script.js"></script>
</body>
</html>