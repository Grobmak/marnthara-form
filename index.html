<!DOCTYPE html>
<html lang="th">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>Marnthara Input (v3.2)</title>
    <link rel="stylesheet" href="style.css" />
    <!-- PWA -->
    <link rel="manifest" href="manifest.json" />
</head>
<body>
    <div class="header">
        <h1>Marnthara</h1>
        <button type="button" class="btn btn-xs btn-primary outline" id="addRoomHeaderBtn">+ ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏´‡πâ‡∏≠‡∏á</button>
        <span style="flex:1;"></span>
        <button type="button" class="btn btn-xs btn-primary" id="lockBtn"><span class="lock-text">‡∏•‡πá‡∏≠‡∏Ñ</span> <span class="lock-icon">üîí</span></button>
        <button type="button" class="btn btn-xs btn-danger" id="clearAllBtn">‡∏•‡πâ‡∏≤‡∏á‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î üóëÔ∏è</button>
    </div>

    <form id="orderForm" method="post" target="hiddenFrame">
        <div class="card" id="customerInfo">
            <div class="row three-col">
                <div><label>‡∏ä‡∏∑‡πà‡∏≠‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤</label><input class="field" type="text" name="customer_name" placeholder="‡πÄ‡∏ä‡πà‡∏ô ‡∏Ñ‡∏∏‡∏ì‡∏™‡∏°‡∏ä‡∏≤‡∏¢" /></div>
                <div><label>‡∏ó‡∏µ‡πà‡∏≠‡∏¢‡∏π‡πà</label><input class="field" type="text" name="customer_address" placeholder="‡πÄ‡∏ä‡πà‡∏ô 123/45 ‡∏´‡∏°‡∏π‡πà‡∏ö‡πâ‡∏≤‡∏ô..." /></div>
                <div><label>‡πÄ‡∏ö‡∏≠‡∏£‡πå‡πÇ‡∏ó‡∏£</label><input class="field" type="tel" name="customer_phone" placeholder="‡πÄ‡∏ä‡πà‡∏ô 081-234-5678" /></div>
            </div>
        </div>

        <div id="roomsEl"></div>

        <div class="card" id="summary">
            <div class="summary-details">
                <summary>‡∏™‡∏£‡∏∏‡∏õ‡∏¢‡∏≠‡∏î‡∏£‡∏ß‡∏°</summary>
                <div class="summary-popup">
                    <div class="summary-item">‡∏ú‡πâ‡∏≤‡∏°‡πà‡∏≤‡∏ô: <span id="curtain_sum_el" class="price">0</span> ‡∏ö.</div>
                    <div class="summary-item">‡∏á‡∏≤‡∏ô‡∏ï‡∏Å‡πÅ‡∏ï‡πà‡∏á: <span id="decoration_sum_el" class="price">0</span> ‡∏ö.</div>
                    <div class="summary-item">‡∏ß‡∏≠‡∏•‡πÄ‡∏õ‡πÄ‡∏õ‡∏≠‡∏£‡πå: <span id="wallpaper_sum_el" class="price">0</span> ‡∏ö.</div>
                    <div class="summary-item" style="font-weight: bold; border-top: 1px solid var(--line); padding-top: 8px;">‡∏¢‡∏≠‡∏î‡∏£‡∏ß‡∏°‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î: <span id="total_sum_el" class="price">0</span> ‡∏ö.</div>
                </div>
            </div>
            
            <div class="actions">
                <button type="button" class="btn btn-xs btn-info" data-act="copy-json">Copy JSON</button>
                <button type="button" class="btn btn-xs btn-info" data-act="copy-text">Copy Text</button>
                <input type="hidden" name="payload" />
                <button type="submit" class="btn btn-primary" style="flex: 1;">‡∏™‡πà‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•</button>
            </div>
        </div>
    </form>
    
    <div id="toastContainer" class="toast-container"></div>
    <iframe name="hiddenFrame" style="display: none;"></iframe>

    <template id="roomTpl">
        <div class="room-container card">
            <div class="room-head">
                <h2 class="room-title">‡∏´‡πâ‡∏≠‡∏á‡∏ó‡∏µ‡πà 1</h2>
                <div class="actions">
                    <button type="button" class="btn btn-xs btn-info" data-act="add-curtain-point">+ ‡∏à‡∏∏‡∏î‡∏ú‡πâ‡∏≤‡∏°‡πà‡∏≤‡∏ô</button>
                    <button type="button" class="btn btn-xs btn-info" data-act="add-decoration-point">+ ‡∏ï‡∏Å‡πÅ‡∏ï‡πà‡∏á</button>
                    <button type="button" class="btn btn-xs btn-info" data-act="add-wallpaper-point">+ ‡∏ß‡∏≠‡∏•‡πÄ‡∏õ‡πÄ‡∏õ‡∏≠‡∏£‡πå</button>
                    <button type="button" class="btn btn-xs btn-danger" data-act="delete-room">‡∏•‡∏ö‡∏´‡πâ‡∏≠‡∏á</button>
                </div>
            </div>
            <div class="row">
                <div><label>‡∏ä‡∏∑‡πà‡∏≠‡∏´‡πâ‡∏≠‡∏á</label><input class="field" type="text" name="room_name" placeholder="‡πÄ‡∏ä‡πà‡∏ô ‡∏´‡πâ‡∏≠‡∏á‡∏£‡∏±‡∏ö‡πÅ‡∏Ç‡∏Å" /></div>
            </div>
            <div data-curtain-container class="list-container"></div>
            <div data-decoration-container class="list-container"></div>
            <div data-wallpaper-container class="list-container"></div>
            <div class="small" style="margin-top: 12px; border-top: 1px solid var(--line); padding-top: 8px;" data-room-summary>
                ‡∏£‡∏ß‡∏°: <span class="price">0</span> ‡∏ö.
            </div>
        </div>
    </template>
    
    <template id="curtainTpl">
        <div class="item-card" data-curtain-point>
            <div class="item-head">
                <h3 class="item-title">‡∏à‡∏∏‡∏î‡∏ú‡πâ‡∏≤‡∏°‡πà‡∏≤‡∏ô</h3>
                <button type="button" class="btn btn-xs btn-danger" data-act="delete-item">‡∏•‡∏ö</button>
            </div>
            <div class="row">
                <div><label>‡∏Ñ‡∏ß‡∏≤‡∏°‡∏Å‡∏ß‡πâ‡∏≤‡∏á (‡∏°.)</label><input class="field" name="curtain_width_m" type="number" step="0.01" min="0" required /></div>
                <div><label>‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏π‡∏á (‡∏°.)</label><input class="field" name="curtain_height_m" type="number" step="0.01" min="0" required /></div>
            </div>
            <div class="row">
                <div><label>‡∏ä‡∏ô‡∏¥‡∏î‡∏ú‡πâ‡∏≤</label>
                    <select class="field" name="fabric_type">
                        <option value="‡∏ó‡∏∂‡∏ö">‡∏ú‡πâ‡∏≤‡∏ó‡∏∂‡∏ö</option>
                        <option value="‡πÇ‡∏õ‡∏£‡πà‡∏á">‡∏ú‡πâ‡∏≤‡πÇ‡∏õ‡∏£‡πà‡∏á</option>
                        <option value="‡∏ó‡∏∂‡∏ö&‡πÇ‡∏õ‡∏£‡πà‡∏á">‡∏ú‡πâ‡∏≤‡∏ó‡∏∂‡∏ö & ‡∏ú‡πâ‡∏≤‡πÇ‡∏õ‡∏£‡πà‡∏á</option>
                    </select>
                </div>
                <div><label>‡∏£‡∏≤‡∏Ñ‡∏≤‡∏ú‡πâ‡∏≤ (‡∏ö.)</label>
                    <input type="text" list="fabric_price_list" name="fabric_price" class="field" inputmode="numeric" required />
                    <datalist id="fabric_price_list">
                        <option value="1000">
                        <option value="1200">
                        <option value="1300">
                        <option value="1400">
                        <option value="1500">
                        <option value="1600">
                        <option value="1700">
                        <option value="1800">
                        <option value="1900">
                        <option value="2000">
                        <option value="2100">
                        <option value="2200">
                        <option value="2300">
                        <option value="2400">
                        <option value="2500">
                    </datalist>
                </div>
            </div>
            <div class="row">
                <div><label>‡∏™‡πÑ‡∏ï‡∏•‡πå</label>
                    <select class="field" name="curtain_style">
                        <option value="‡∏•‡∏≠‡∏ô">‡∏•‡∏≠‡∏ô</option>
                        <option value="‡∏ï‡∏≤‡πÑ‡∏Å‡πà">‡∏ï‡∏≤‡πÑ‡∏Å‡πà</option>
                        <option value="‡∏à‡∏µ‡∏ö">‡∏à‡∏µ‡∏ö</option>
                    </select>
                </div>
                <div><label>‡∏Ñ‡∏ß‡∏≤‡∏°‡∏¢‡∏≤‡∏ß‡∏£‡∏≤‡∏á (‡∏°.)</label><input class="field" name="rail_length_m" type="number" step="0.01" min="0" /></div>
            </div>
            <div class="row">
                <div class="checkbox-group">
                    <input type="checkbox" name="has_rail" />
                    <label>‡∏£‡∏ß‡∏°‡∏£‡∏≤‡∏á</label>
                </div>
                <div class="checkbox-group">
                    <input type="checkbox" name="has_lace" />
                    <label>‡∏£‡∏ß‡∏°‡∏ä‡∏≤‡∏¢‡∏Ñ‡∏£‡∏∏‡∏¢</label>
                </div>
            </div>
            <div class="small" style="margin-top: 12px; border-top: 1px solid var(--line); padding-top: 8px;" data-curtain-summary>
                ‡∏£‡∏≤‡∏Ñ‡∏≤: <span class="price">0</span> ‡∏ö. ‚Ä¢ ‡πÉ‡∏ä‡πâ‡∏ú‡πâ‡∏≤: <span class="price">0.00</span> ‡∏°.
            </div>
        </div>
    </template>

    <template id="decorationTpl">
        <div class="item-card" data-decoration-point>
            <div class="item-head">
                <h3 class="item-title">‡∏á‡∏≤‡∏ô‡∏ï‡∏Å‡πÅ‡∏ï‡πà‡∏á</h3>
                <button type="button" class="btn btn-xs btn-danger" data-act="delete-item">‡∏•‡∏ö</button>
            </div>
            <div class="row">
                <div><label>‡∏ä‡∏∑‡πà‡∏≠‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£</label><input class="field" name="decoration_name" type="text" placeholder="‡πÄ‡∏ä‡πà‡∏ô ‡∏´‡∏∏‡πâ‡∏°‡πÇ‡∏ã‡∏ü‡∏≤" required /></div>
            </div>
            <div class="row">
                <div><label>‡∏Å‡∏ß‡πâ‡∏≤‡∏á (‡∏°.)</label><input class="field" name="decoration_width_m" type="number" step="0.01" min="0" required /></div>
                <div><label>‡∏™‡∏π‡∏á (‡∏°.)</label><input class="field" name="decoration_height_m" type="number" step="0.01" min="0" required /></div>
            </div>
            <div class="row">
                <div><label>‡∏£‡∏≤‡∏Ñ‡∏≤‡∏ï‡πà‡∏≠‡∏ï‡∏≤‡∏£‡∏≤‡∏á‡∏´‡∏•‡∏≤</label><input class="field" name="decoration_price_sqyd" type="text" inputmode="numeric" required /></div>
            </div>
            <div class="small" style="margin-top: 12px; border-top: 1px solid var(--line); padding-top: 8px;" data-decoration-summary>
                ‡∏£‡∏≤‡∏Ñ‡∏≤: <span class="price">0</span> ‡∏ö. ‚Ä¢ ‡∏û‡∏∑‡πâ‡∏ô‡∏ó‡∏µ‡πà: <span class="price">0.00</span> ‡∏ï‡∏£.‡∏´‡∏•‡∏≤
            </div>
        </div>
    </template>
    
    <template id="wallpaperTpl">
        <div class="item-card" data-wallpaper-point>
            <div class="item-head">
                <h3 class="item-title">‡∏ß‡∏≠‡∏•‡πÄ‡∏õ‡πÄ‡∏õ‡∏≠‡∏£‡πå</h3>
                <button type="button" class="btn btn-xs btn-danger" data-act="delete-item">‡∏•‡∏ö</button>
            </div>
            <div class="row">
                <div><label>‡∏ä‡∏ô‡∏¥‡∏î‡∏ß‡∏≠‡∏•‡πÄ‡∏õ‡πÄ‡∏õ‡∏≠‡∏£‡πå</label><input class="field" name="wallpaper_type" type="text" placeholder="‡πÄ‡∏ä‡πà‡∏ô ‡∏´‡∏ô‡∏±‡∏á" /></div>
                <div><label>‡∏£‡∏´‡∏±‡∏™‡∏ß‡∏≠‡∏•‡πÄ‡∏õ‡πÄ‡∏õ‡∏≠‡∏£‡πå</label><input class="field" name="wallpaper_code" type="text" placeholder="‡πÄ‡∏ä‡πà‡∏ô A001" /></div>
            </div>
            <div class="row">
                <div><label>‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏π‡∏á‡∏´‡πâ‡∏≠‡∏á (‡∏°.)</label><input class="field" name="wallpaper_height_m" type="number" step="0.01" min="0" required /></div>
                <div><label>‡∏£‡∏≤‡∏Ñ‡∏≤‡∏ï‡πà‡∏≠‡∏°‡πâ‡∏ß‡∏ô</label><input class="field" name="wallpaper_price_roll" type="text" inputmode="numeric" required /></div>
            </div>
            <div class="walls-section">
                <label>‡∏Ñ‡∏ß‡∏≤‡∏°‡∏Å‡∏ß‡πâ‡∏≤‡∏á‡∏ú‡∏ô‡∏±‡∏á (‡πÉ‡∏™‡πà‡∏ó‡∏µ‡∏•‡∏∞‡∏î‡πâ‡∏≤‡∏ô)</label>
                <div data-walls-container></div>
                <button type="button" class="btn btn-xs" data-act="add-wall" style="margin-top: 8px;">+ ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏ú‡∏ô‡∏±‡∏á</button>
            </div>
            <div class="small" style="margin-top: 12px; border-top: 1px solid var(--line); padding-top: 8px;" data-wallpaper-summary>
                ‡∏£‡∏≤‡∏Ñ‡∏≤: <span class="price">0</span> ‡∏ö. ‚Ä¢ ‡∏û‡∏∑‡πâ‡∏ô‡∏ó‡∏µ‡πà: <span class="price">0.00</span> ‡∏ï‡∏£.‡∏°. ‚Ä¢ ‡πÉ‡∏ä‡πâ <span class="price">0</span> ‡∏°‡πâ‡∏ß‡∏ô
            </div>
        </div>
    </template>

    <template id="wallTpl">
        <div class="wall-input-row">
            <input class="field" name="wall_width_m" type="number" step="0.01" min="0" placeholder="0.00" required />
            <button type="button" class="btn btn-xs btn-danger" data-act="delete-wall">‡∏•‡∏ö</button>
        </div>
    </template>
    
    <script src="script.js"></script>
</body>
</html>
