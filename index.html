<!DOCTYPE html>
<html lang="th">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>Marnthara Input (v3)</title>
    <link rel="stylesheet" href="style.css" />
</head>
<body>
    <div class="header">
        <div class="menu-container">
            <button class="btn btn-icon" id="menuBtn">‚ò∞</button>
            <div class="menu-dropdown" id="menuDropdown">
                <button type="button" class="btn btn-block" id="importBtn">Import(JSON)</button>
                <button type="button" class="btn btn-block" id="exportBtn">Export(JSON)</button>
            </div>
        </div>
        <h1>Marnthara</h1>
        <button type="button" class="btn btn-xs btn-primary outline" id="addRoomHeaderBtn">+ ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏´‡πâ‡∏≠‡∏á</button>
        <span style="flex:1;"></span>
        <button type="button" class="btn btn-xs btn-primary" id="lockBtn"><span class="lock-text">‡∏•‡πá‡∏≠‡∏Ñ</span> <span class="lock-icon">üîí</span></button>
        <button type="button" class="btn btn-xs btn-danger" id="clearAllBtn">‡∏•‡πâ‡∏≤‡∏á‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î</button>
    </div>

    <form id="orderForm" method="post" target="hiddenFrame">
        <div class="card" id="customerCard">
            <h2>‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤</h2>
            <div class="row">
                <div class="field-group"><label>‡∏ä‡∏∑‡πà‡∏≠</label><input class="field" name="customer_name" required /></div>
                <div class="field-group"><label>‡∏ó‡∏µ‡πà‡∏≠‡∏¢‡∏π‡πà</label><input class="field" name="customer_address" /></div>
                <div class="field-group"><label>‡πÄ‡∏ö‡∏≠‡∏£‡πå‡πÇ‡∏ó‡∏£</label><input class="field" name="customer_phone" inputmode="tel" required /></div>
            </div>
        </div>

        <div id="roomsContainer"></div>

        <button type="button" class="btn btn-block btn-secondary" id="addRoomBtn">+ ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏´‡πâ‡∏≠‡∏á</button>

        <div class="card summary" id="summaryCard">
            <h2>‡∏™‡∏£‡∏∏‡∏õ‡∏£‡∏≤‡∏Ñ‡∏≤</h2>
            <div id="summaryContent"></div>
        </div>

        <input type="hidden" name="payload" id="payloadInput" />
        <button type="submit" class="btn btn-block btn-primary outline" id="submitBtn">‡∏¢‡∏∑‡∏ô‡∏¢‡∏±‡∏ô</button>
    </form>

    <div id="toastContainer"></div>
    <iframe name="hiddenFrame" style="display:none;"></iframe>

    <template id="roomTpl">
        <div class="card room" data-room-id="">
            <div class="room-head">
                <div class="room-title">
                    <input class="room-name" name="room_name" type="text" placeholder="‡∏ä‡∏∑‡πà‡∏≠‡∏´‡πâ‡∏≠‡∏á..." required />
                    <div class="room-number"></div>
                </div>
                <div class="room-actions">
                    <button type="button" class="btn btn-icon btn-secondary" data-act="copy-room" title="‡∏Ñ‡∏±‡∏î‡∏•‡∏≠‡∏Å">‚ùê</button>
                    <div class="dropdown">
                        <button type="button" class="btn btn-icon btn-secondary" data-act="room-menu" title="‡∏ï‡∏±‡∏ß‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏ï‡∏¥‡∏°">‚ãØ</button>
                        <div class="dropdown-menu">
                            <button type="button" class="btn btn-block btn-warning outline" data-act="toggle-room-suspend">‡∏£‡∏∞‡∏á‡∏±‡∏ö/‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô</button>
                            <button type="button" class="btn btn-block btn-info outline" data-act="clear-room">‡∏•‡πâ‡∏≤‡∏á</button>
                            <button type="button" class="btn btn-block btn-danger outline" data-act="del-room">‡∏•‡∏ö</button>
                        </div>
                    </div>
                </div>
            </div>
            <div class="room-body">
                <div class="room-type">
                    <div class="form-check">
                        <input class="form-check-input" type="radio" name="room_type" value="fabric" data-act="sel-room-type" required />
                        <label class="form-check-label">‡∏ú‡πâ‡∏≤‡∏°‡πà‡∏≤‡∏ô</label>
                    </div>
                    <div class="form-check">
                        <input class="form-check-input" type="radio" name="room_type" value="sheer" data-act="sel-room-type" required />
                        <label class="form-check-label">‡∏ú‡πâ‡∏≤‡πÇ‡∏õ‡∏£‡πà‡∏á</label>
                    </div>
                    <div class="form-check">
                        <input class="form-check-input" type="radio" name="room_type" value="wallpaper" data-act="sel-room-type" required />
                        <label class="form-check-label">‡∏ß‡∏≠‡∏•‡πÄ‡∏õ‡πÄ‡∏õ‡∏≠‡∏£‡πå</label>
                    </div>
                </div>
                <div class="room-details-container"></div>
            </div>
        </div>
    </template>

    <template id="curtainTpl">
        <div class="curtain-section">
            <div class="row">
                <div class="field-group"><label>‡∏£‡∏≤‡∏Ñ‡∏≤‡∏ú‡πâ‡∏≤</label><input class="field" name="curtain_price_m" type="text" inputmode="numeric" required /></div>
                <div class="field-group"><label>‡∏£‡∏π‡∏õ‡πÅ‡∏ö‡∏ö</label>
                    <select class="field" name="curtain_style">
                        <option value="‡∏•‡∏≠‡∏ô">‡∏•‡∏≠‡∏ô</option>
                        <option value="‡∏ï‡∏≤‡πÑ‡∏Å‡πà">‡∏ï‡∏≤‡πÑ‡∏Å‡πà</option>
                        <option value="‡∏à‡∏µ‡∏ö">‡∏à‡∏µ‡∏ö</option>
                    </select>
                </div>
            </div>
            <div class="item-list-container" data-list-type="curtain"></div>
            <button type="button" class="btn btn-block btn-info outline" data-act="add-curtain-item">+ ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£</button>
            <div class="summary">‡∏£‡∏ß‡∏° <span class="price" data-curtain-summary>0</span> ‡∏ö.</div>
        </div>
    </template>

    <template id="curtainItemTpl">
        <div class="curtain-item" data-item-id="">
            <div class="row">
                <div class="field-group"><label>‡∏´‡∏ô‡πâ‡∏≤‡∏ï‡πà‡∏≤‡∏á/‡∏õ‡∏£‡∏∞‡∏ï‡∏π</label><input class="field" name="curtain_item_name" required /></div>
                <button type="button" class="btn btn-icon btn-danger" data-act="del-curtain-item" title="‡∏•‡∏ö‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£">‚úï</button>
            </div>
            <div class="row">
                <div class="field-group"><label>‡∏Ñ‡∏ß‡∏≤‡∏°‡∏Å‡∏ß‡πâ‡∏≤‡∏á</label><input class="field" name="curtain_width" type="number" step="0.01" min="0" required /></div>
                <div class="field-group"><label>‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏π‡∏á</label><input class="field" name="curtain_height" type="number" step="0.01" min="0" required /></div>
            </div>
            <div class="row">
                <div class="field-group"><label>‡∏£‡∏≤‡∏Ñ‡∏≤‡πÄ‡∏™‡∏£‡∏¥‡∏°</label><input class="field" name="curtain_surcharge" type="text" inputmode="numeric" /></div>
                <div class="field-group"><label>‡∏£‡∏≤‡∏Ñ‡∏≤‡∏•‡∏î</label><input class="field" name="curtain_discount" type="text" inputmode="numeric" /></div>
            </div>
            <div class="summary">‡∏£‡∏≤‡∏Ñ‡∏≤: <span class="price" data-item-summary>0</span> ‡∏ö.</div>
        </div>
    </template>

    <template id="wallpaperTpl">
        <div class="wallpaper-section">
            <div class="row">
                <label>‡∏£‡∏≤‡∏Ñ‡∏≤‡∏ï‡πà‡∏≠‡∏°‡πâ‡∏ß‡∏ô</label>
                <input class="field" name="wallpaper_price_roll" type="text" inputmode="numeric" required />
            </div>
            <div class="item-list-container" data-list-type="wallpaper"></div>
            <button type="button" class="btn btn-block btn-info outline" data-act="add-wallpaper-item">+ ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£</button>
            <div class="summary">‡∏£‡∏ß‡∏° <span class="price" data-wallpaper-summary>0</span> ‡∏ö.</div>
        </div>
    </template>

    <template id="wallpaperItemTpl">
        <div class="wallpaper-item" data-item-id="">
            <div class="row">
                <div class="field-group"><label>‡∏ä‡∏∑‡πà‡∏≠‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£</label><input class="field" name="wallpaper_item_name" required /></div>
                <button type="button" class="btn btn-icon btn-danger" data-act="del-wallpaper-item" title="‡∏•‡∏ö‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£">‚úï</button>
            </div>
            <div class="row">
                <div class="field-group"><label>‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏π‡∏á‡∏´‡πâ‡∏≠‡∏á (‡∏°.)</label><input class="field" name="wallpaper_height_m" type="number" step="0.01" min="0" required /></div>
                <div class="field-group"><label>‡∏Ñ‡∏ß‡∏≤‡∏°‡∏Å‡∏ß‡πâ‡∏≤‡∏á‡∏ú‡∏ô‡∏±‡∏á (‡πÉ‡∏™‡πà‡∏ó‡∏µ‡∏•‡∏∞‡∏î‡πâ‡∏≤‡∏ô)</label>
                    <div class="walls-container" data-walls-container></div>
                    <button type="button" class="btn btn-xs" data-act="add-wall" style="margin-top: 8px;">+ ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏ú‡∏ô‡∏±‡∏á</button>
                </div>
            </div>
            <div class="summary">
                ‡∏£‡∏≤‡∏Ñ‡∏≤: <span class="price" data-wallpaper-item-price>0</span> ‡∏ö. ‚Ä¢ ‡∏û‡∏∑‡πâ‡∏ô‡∏ó‡∏µ‡πà: <span class="price" data-wallpaper-item-sqm>0.00</span> ‡∏ï‡∏£.‡∏°. ‚Ä¢ ‡πÉ‡∏ä‡πâ <span class="price" data-wallpaper-item-rolls>0</span> ‡∏°‡πâ‡∏ß‡∏ô
            </div>
        </div>
    </template>

    <template id="wallTpl">
        <div class="wall-input-row">
            <input class="field" name="wall_width_m" type="number" step="0.01" min="0" required />
            <button type="button" class="btn btn-icon btn-danger" data-act="del-wall" title="‡∏•‡∏ö‡∏ú‡∏ô‡∏±‡∏á">‚úï</button>
        </div>
    </template>
    
    <div id="copyOptionsModal" class="modal">
        <div class="modal-content">
            <h3>‡∏Ñ‡∏±‡∏î‡∏•‡∏≠‡∏Å‡∏ï‡∏±‡∏ß‡πÄ‡∏•‡∏∑‡∏≠‡∏Å</h3>
            <p>‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏™‡∏¥‡πà‡∏á‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏Ñ‡∏±‡∏î‡∏•‡∏≠‡∏Å:</p>
            <div class="form-check">
                <input type="checkbox" id="copyDetails" class="form-check-input" checked />
                <label class="form-check-label" for="copyDetails">‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î (‡∏ú‡πâ‡∏≤‡∏°‡πà‡∏≤‡∏ô/‡∏ß‡∏≠‡∏•‡πÄ‡∏õ‡πÄ‡∏õ‡∏≠‡∏£‡πå)</label>
            </div>
            <div class="form-check">
                <input type="checkbox" id="copyItems" class="form-check-input" checked />
                <label class="form-check-label" for="copyItems">‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î</label>
            </div>
            <div class="modal-actions">
                <button type="button" class="btn btn-secondary" id="copyModalCancel">‡∏¢‡∏Å‡πÄ‡∏•‡∏¥‡∏Å</button>
                <button type="button" class="btn btn-primary" id="copyModalConfirm">‡∏ï‡∏Å‡∏•‡∏á</button>
            </div>
        </div>
    </div>

</body>
<script src="script.js"></script>
</html>