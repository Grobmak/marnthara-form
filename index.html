<!DOCTYPE html>
<html lang="th">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>Marnthara Input (v3.2)</title>
    <link rel="stylesheet" href="style.css" />
</head>
<body>
    <div class="header">
        <h1>Marnthara</h1>
        <button type="button" class="btn btn-xs btn-primary outline" id="addRoomHeaderBtn">+ ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏´‡πâ‡∏≠‡∏á</button>
        <span style="flex:1;"></span>
        <button type="button" class="btn btn-xs btn-primary" id="lockBtn"><span class="lock-text">‡∏•‡πá‡∏≠‡∏Ñ</span> <span class="lock-icon">üîí</span></button>
        <button type="button" class="btn btn-xs btn-danger" id="clearAllBtn">‡∏•‡πâ‡∏≤‡∏á‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î üóëÔ∏è</button>
    </div>

    <form id="orderForm" method="post" target="hiddenFrame">
        <div class="card" id="customerInfo">
            <div class="row three-col">
                <div><label>‡∏ä‡∏∑‡πà‡∏≠‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤</label><input class="field" type="text" name="customer_name" placeholder="‡πÄ‡∏ä‡πà‡∏ô ‡∏Ñ‡∏∏‡∏ì‡∏™‡∏°‡∏ä‡∏≤‡∏¢" /></div>
                <div><label>‡∏ó‡∏µ‡πà‡∏≠‡∏¢‡∏π‡πà</label><input class="field" type="text" name="customer_address" placeholder="‡πÄ‡∏ä‡πà‡∏ô 123/45 ‡∏´‡∏°‡∏π‡πà‡∏ö‡πâ‡∏≤‡∏ô..." /></div>
                <div><label>‡πÄ‡∏ö‡∏≠‡∏£‡πå‡πÇ‡∏ó‡∏£</label><input class="field" type="text" name="customer_phone" inputmode="tel" placeholder="08x-xxx-xxxx" /></div>
            </div>
        </div>

        <div id="rooms"></div>

        <div class="actions">
            <button type="button" class="btn btn-primary" id="copyTextBtn">‡∏Ñ‡∏±‡∏î‡∏•‡∏≠‡∏Å‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°</button>
            <button type="button" class="btn btn-secondary" id="copyJsonBtn">‡∏Ñ‡∏±‡∏î‡∏•‡∏≠‡∏Å JSON</button>
            <button type="submit" class="btn btn-primary">‡∏™‡πà‡∏á üöÄ</button>
        </div>

        <div class="summary-details">
            <details>
                <summary>‡∏™‡∏£‡∏∏‡∏õ‡∏ß‡∏±‡∏™‡∏î‡∏∏</summary>
                <div class="summary-popup">
                    <div class="summary-item">
                        <label>‡∏ú‡πâ‡∏≤‡∏´‡∏•‡∏±‡∏Å‡∏£‡∏ß‡∏°</label><span class="price" id="totalFabricYd">0.0</span> ‡∏´‡∏•‡∏≤
                    </div>
                    <div class="summary-item">
                        <label>‡∏ú‡πâ‡∏≤‡πÇ‡∏õ‡∏£‡πà‡∏á‡∏£‡∏ß‡∏°</label><span class="price" id="totalSheerYd">0.0</span> ‡∏´‡∏•‡∏≤
                    </div>
                    <div class="summary-item">
                        <label>‡∏£‡∏≤‡∏á‡∏£‡∏ß‡∏°</label><span class="price" id="totalRailMeter">0.0</span> ‡∏°.
                    </div>
                </div>
            </details>
        </div>
    </form>

    <div class="sticky-footer">
        <div class="total-price-text">
            <span>‡∏£‡∏ß‡∏°:</span> <span class="price" id="totalPrice">0</span> ‡∏ö.
        </div>
        <div class="total-sets-text">
            <span>‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏à‡∏∏‡∏î:</span> <span id="totalSets">0</span>
        </div>
        <div class="total-rooms-text">
            <span>‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏ä‡∏∏‡∏î:</span> <span id="totalRooms">0</span>
        </div>
    </div>

    <div class="modal-overlay" id="confirmationModal">
        <div class="modal">
            <p>‡∏Ñ‡∏∏‡∏ì‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏•‡πâ‡∏≤‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î‡πÉ‡∏ä‡πà‡πÑ‡∏´‡∏°?</p>
            <div class="modal-actions">
                <button type="button" class="btn btn-danger" id="confirmClear">‡∏¢‡∏∑‡∏ô‡∏¢‡∏±‡∏ô</button>
                <button type="button" class="btn" id="cancelClear">‡∏¢‡∏Å‡πÄ‡∏•‡∏¥‡∏Å</button>
            </div>
        </div>
    </div>

    <div class="modal-overlay" id="copyOptionsModal">
        <div class="modal">
            <p>‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏Ñ‡∏±‡∏î‡∏•‡∏≠‡∏Å‡πÉ‡∏ô‡∏£‡∏π‡∏õ‡πÅ‡∏ö‡∏ö‡πÉ‡∏î?</p>
            <div class="modal-actions">
                <button type="button" class="btn btn-primary" id="copyFullText">‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î</button>
                <button type="button" class="btn btn-primary" id="copyDetailsOnly">‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î‡πÄ‡∏ó‡πà‡∏≤‡∏ô‡∏±‡πâ‡∏ô</button>
                <button type="button" class="btn" id="cancelCopy">‡∏¢‡∏Å‡πÄ‡∏•‡∏¥‡∏Å</button>
            </div>
        </div>
    </div>
    
    <template id="roomTpl">
        <div class="card room" data-room-index="">
            <div class="room-head">
                <input class="field room-name" type="text" name="room_name" placeholder="‡∏ä‡∏∑‡πà‡∏≠‡∏´‡πâ‡∏≠‡∏á (‡πÄ‡∏ä‡πà‡∏ô ‡∏´‡πâ‡∏≠‡∏á‡∏ô‡∏≠‡∏ô‡πÉ‡∏´‡∏ç‡πà)" />
                <button type="button" class="btn btn-icon btn-danger" data-act="del-room" title="‡∏•‡∏ö‡∏´‡πâ‡∏≠‡∏á‡∏ô‡∏µ‡πâ">‚úï</button>
            </div>

            <div class="field-row">
                <label>
                    <input type="checkbox" name="hasCurtains" checked />
                    ‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏ú‡πâ‡∏≤‡∏°‡πà‡∏≤‡∏ô
                </label>
            </div>

            <div data-curtain-sets-container>
                <div class="sets-section">
                    <label>‡∏ú‡πâ‡∏≤‡∏°‡πà‡∏≤‡∏ô</label>
                    <div data-sets-container></div>
                    <button type="button" class="btn btn-xs" data-act="add-set">+ ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏à‡∏∏‡∏î‡∏ú‡πâ‡∏≤‡∏°‡πà‡∏≤‡∏ô</button>
                </div>
            </div>

            <div class="deco-section">
                <label>‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏ï‡∏Å‡πÅ‡∏ï‡πà‡∏á‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏ï‡∏¥‡∏°</label>
                <div data-deco-container></div>
                <button type="button" class="btn btn-xs" data-act="add-deco">+ ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏ï‡∏Å‡πÅ‡∏ï‡πà‡∏á</button>
            </div>

            <div class="wallpaper-section">
                <label>‡∏ß‡∏≠‡∏•‡πÄ‡∏õ‡πÄ‡∏õ‡∏≠‡∏£‡πå</label>
                <div data-wallpaper-container></div>
                <button type="button" class="btn btn-xs" data-act="add-wallpaper">+ ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏ß‡∏≠‡∏•‡πÄ‡∏õ‡πÄ‡∏õ‡∏≠‡∏£‡πå</button>
            </div>

            <div class="small room-summary" style="margin-top: 12px; border-top: 1px solid var(--line); padding-top: 8px;">
                ‡∏£‡∏≤‡∏Ñ‡∏≤: <span class="price">0</span> ‡∏ö. ‚Ä¢ ‡∏ú‡πâ‡∏≤‡∏´‡∏•‡∏±‡∏Å: <span class="price">0.0</span> ‡∏´‡∏•‡∏≤ ‚Ä¢ ‡∏ú‡πâ‡∏≤‡πÇ‡∏õ‡∏£‡πà‡∏á: <span class="price">0.0</span> ‡∏´‡∏•‡∏≤
            </div>
        </div>
    </template>

    <template id="setTpl">
        <div class="set-item" data-set-index="">
            <div class="field-row">
                <div><label>‡∏Ñ‡∏ß‡∏≤‡∏°‡∏Å‡∏ß‡πâ‡∏≤‡∏á (‡∏°.)</label><input class="field" name="width_m" type="number" step="0.01" min="0" required /></div>
                <div><label>‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏π‡∏á (‡∏°.)</label><input class="field" name="height_m" type="number" step="0.01" min="0" required /></div>
            </div>
            <div class="field-row">
                <div><label>‡∏£‡∏≤‡∏Ñ‡∏≤‡∏ú‡πâ‡∏≤‡∏´‡∏•‡∏±‡∏Å</label><input class="field" name="fabric_price" type="text" inputmode="numeric" list="fabricPriceList" /></div>
                <div><label>‡∏£‡∏≤‡∏Ñ‡∏≤‡∏ú‡πâ‡∏≤‡πÇ‡∏õ‡∏£‡πà‡∏á</label><input class="field" name="sheer_price" type="text" inputmode="numeric" list="sheerPriceList" /></div>
            </div>
            <div class="field-row">
                <div>
                    <label>‡∏£‡∏π‡∏õ‡πÅ‡∏ö‡∏ö</label>
                    <select class="field" name="curtain_style">
                        <option value="‡∏ï‡∏≤‡πÑ‡∏Å‡πà">‡∏ï‡∏≤‡πÑ‡∏Å‡πà</option>
                        <option value="‡∏à‡∏µ‡∏ö">‡∏à‡∏µ‡∏ö</option>
                        <option value="‡∏•‡∏≠‡∏ô">‡∏•‡∏≠‡∏ô</option>
                    </select>
                </div>
                <div>
                    <label>‡∏£‡∏≤‡∏á (‡∏°.)</label>
                    <input class="field" name="rail_meter" type="number" step="0.01" min="0" />
                </div>
            </div>
            <div class="field-row">
                <label>
                    <input type="checkbox" name="isSheer" checked />
                    ‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏ú‡πâ‡∏≤‡πÇ‡∏õ‡∏£‡πà‡∏á
                </label>
                <label>
                    <input type="checkbox" name="isSuspended" />
                    ‡∏û‡∏±‡∏Å‡πÑ‡∏ß‡πâ‡∏ä‡∏±‡πà‡∏ß‡∏Ñ‡∏£‡∏≤‡∏ß
                </label>
                <button type="button" class="btn btn-icon btn-danger" data-act="del-set" title="‡∏•‡∏ö‡∏à‡∏∏‡∏î‡∏ô‡∏µ‡πâ">‚úï</button>
            </div>
            <div class="small set-summary">
                ‡∏£‡∏≤‡∏Ñ‡∏≤: <span class="price">0</span> ‡∏ö. ‚Ä¢ ‡∏ú‡πâ‡∏≤‡∏´‡∏•‡∏±‡∏Å: <span class="price">0.0</span> ‡∏´‡∏•‡∏≤ ‚Ä¢ ‡∏ú‡πâ‡∏≤‡πÇ‡∏õ‡∏£‡πà‡∏á: <span class="price">0.0</span> ‡∏´‡∏•‡∏≤
            </div>
        </div>
    </template>

    <template id="decoTpl">
        <div class="deco-item" data-deco-item-index="">
            <div class="row">
                <div><label>‡∏ä‡∏∑‡πà‡∏≠‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£</label><input class="field" name="deco_name" type="text" required /></div>
                <div><label>‡∏£‡∏≤‡∏Ñ‡∏≤</label><input class="field" name="deco_price" type="text" inputmode="numeric" required /></div>
            </div>
            <button type="button" class="btn btn-icon btn-danger" data-act="del-deco" title="‡∏•‡∏ö‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£">‚úï</button>
        </div>
    </template>

    <template id="wallpaperTpl">
        <div class="wallpaper-item" data-wallpaper-item-index="">
            <div class="row">
                <div><label>‡∏ä‡∏∑‡πà‡∏≠‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£</label><input class="field" name="wallpaper_name" type="text" required /></div>
                <div><label>‡∏£‡∏´‡∏±‡∏™‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤</label><input class="field" name="wallpaper_code" type="text" /></div>
                <button type="button" class="btn btn-icon btn-danger" data-act="del-wallpaper" title="‡∏•‡∏ö‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£">‚úï</button>
            </div>
            <div class="row">
                <div><label>‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏π‡∏á‡∏´‡πâ‡∏≠‡∏á (‡∏°.)</label><input class="field" name="wallpaper_height_m" type="number" step="0.01" min="0" required /></div>
                <div><label>‡∏£‡∏≤‡∏Ñ‡∏≤‡∏ï‡πà‡∏≠‡∏°‡πâ‡∏ß‡∏ô</label><input class="field" name="wallpaper_price_roll" type="text" inputmode="numeric" required /></div>
            </div>
            <div class="walls-section">
                <label>‡∏Ñ‡∏ß‡∏≤‡∏°‡∏Å‡∏ß‡πâ‡∏≤‡∏á‡∏ú‡∏ô‡∏±‡∏á (‡πÉ‡∏™‡πà‡∏ó‡∏µ‡∏•‡∏∞‡∏î‡πâ‡∏≤‡∏ô)</label>
                <div data-walls-container></div>
                <button type="button" class="btn btn-xs" data-act="add-wall" style="margin-top: 8px;">+ ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏ú‡∏ô‡∏±‡∏á</button>
            </div>
            <div class="small" style="margin-top: 12px; border-top: 1px solid var(--line); padding-top: 8px;" data-wallpaper-summary>
                ‡∏£‡∏≤‡∏Ñ‡∏≤: <span class="price">0</span> ‡∏ö. ‚Ä¢ ‡∏û‡∏∑‡πâ‡∏ô‡∏ó‡∏µ‡πà: <span class="price">0.00</span> ‡∏ï‡∏£.‡∏°. ‚Ä¢ ‡πÉ‡∏ä‡πâ <span class="price">0</span> ‡∏°‡πâ‡∏ß‡∏ô
            </div>
        </div>
    </template>

    <template id="wallTpl">
        <div class="wall-input-row">
            <input class="field" name="wall_width_m" type="number" step="0.01" min="0" />
            <button type="button" class="btn btn-icon btn-danger" data-act="del-wall" title="‡∏•‡∏ö‡∏ú‡∏ô‡∏±‡∏á">‚úï</button>
        </div>
    </template>

    <script src="script.js"></script>
    <script src="style.css"></script>
</body>
</html>