<!DOCTYPE html>
<html lang="th">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>Marnthara Input (v3.2)</title>
    <link rel="stylesheet" href="style.css" />
</head>
<body>
    <div class="header">
        <h1>Marnthara</h1>
        <button type="button" class="btn btn-xs btn-primary outline" id="addRoomHeaderBtn">+ ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏´‡πâ‡∏≠‡∏á</button>
        <span style="flex:1;"></span>
        <button type="button" class="btn btn-xs btn-primary" id="lockBtn"><span class="lock-text">‡∏•‡πá‡∏≠‡∏Ñ</span> <span class="lock-icon">üîí</span></button>
        <button type="button" class="btn btn-xs btn-danger" id="clearAllBtn">‡∏•‡πâ‡∏≤‡∏á‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î üóëÔ∏è</button>
    </div>

    <form id="orderForm" method="post" target="hiddenFrame">
        <div class="card" id="customerInfo">
            <div class="row three-col">
                <div><label>‡∏ä‡∏∑‡πà‡∏≠‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤</label><input class="field" type="text" name="customer_name" placeholder="‡πÄ‡∏ä‡πà‡∏ô ‡∏Ñ‡∏∏‡∏ì‡∏™‡∏°‡∏ä‡∏≤‡∏¢" /></div>
                <div><label>‡∏ó‡∏µ‡πà‡∏≠‡∏¢‡∏π‡πà</label><input class="field" type="text" name="customer_address" placeholder="‡πÄ‡∏ä‡πà‡∏ô 123/45 ‡∏´‡∏°‡∏π‡πà‡∏ö‡πâ‡∏≤‡∏ô..." /></div>
                <div><label>‡πÄ‡∏ö‡∏≠‡∏£‡πå‡πÇ‡∏ó‡∏£</label><input class="field" type="tel" name="customer_phone" inputmode="numeric" placeholder="‡πÄ‡∏ä‡πà‡∏ô 081-234-5678" /></div>
            </div>
        </div>

        <div id="roomsEl"></div>

        <div class="footer-summary">
            <div class="summary-details">
                <button type="button" class="btn btn-xs btn-primary" id="summaryBtn">‡∏™‡∏£‡∏∏‡∏õ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•</button>
                <div class="summary-popup" id="summaryPopup" style="display: none;">
                    <div class="summary-item">‡∏£‡∏ß‡∏°‡∏¢‡∏≠‡∏î: <span class="price-total">0</span> ‡∏ö.</div>
                    <div class="summary-item">‡∏£‡∏ß‡∏°‡∏à‡∏∏‡∏î: <span class="point-total">0</span> ‡∏à‡∏∏‡∏î</div>
                    <div class="summary-item">‡∏ú‡πâ‡∏≤‡∏°‡πà‡∏≤‡∏ô: <span class="curtain-total">0</span> ‡∏ä‡∏∏‡∏î</div>
                    <div class="summary-item">‡∏ï‡∏Å‡πÅ‡∏ï‡πà‡∏á: <span class="decoration-total">0</span> ‡∏ä‡∏∏‡∏î</div>
                </div>
            </div>
            <div class="actions">
                <button type="button" class="btn btn-xs outline" id="materialsSummaryBtn">‡∏™‡∏£‡∏∏‡∏õ‡∏ß‡∏±‡∏™‡∏î‡∏∏ üìã</button>
                <button type="button" class="btn btn-xs outline" id="copyTextBtn">‡∏Ñ‡∏±‡∏î‡∏•‡∏≠‡∏Å‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°</button>
                <button type="submit" class="btn btn-xs btn-primary outline" id="sendDataBtn">‡∏™‡πà‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•</button>
            </div>
        </div>
    </form>

    <div class="modals">
        <div id="confirmModal" class="modal">
            <div class="modal-content">
                <p>‡∏¢‡∏∑‡∏ô‡∏¢‡∏±‡∏ô‡∏Å‡∏≤‡∏£‡∏•‡πâ‡∏≤‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î?</p>
                <button class="btn btn-danger" data-confirm="yes">‡∏¢‡∏∑‡∏ô‡∏¢‡∏±‡∏ô</button>
                <button class="btn outline" data-confirm="no">‡∏¢‡∏Å‡πÄ‡∏•‡∏¥‡∏Å</button>
            </div>
        </div>
    </div>

    <div class="toast-container"></div>

    <template id="roomTpl">
        <div class="card room-card">
            <div class="card-head">
                <input class="room-name" type="text" value="‡∏´‡πâ‡∏≠‡∏á‡∏ó‡∏µ‡πà 1" placeholder="‡πÄ‡∏ä‡πà‡∏ô ‡∏´‡πâ‡∏≠‡∏á‡∏ô‡∏≠‡∏ô‡πÉ‡∏´‡∏ç‡πà" />
                <span style="flex:1;"></span>
                <button type="button" class="btn btn-xs btn-danger outline" data-act="remove-room">‡∏•‡∏ö‡∏´‡πâ‡∏≠‡∏á</button>
            </div>
            <div class="room-content">
                <div class="room-sections">
                    <div class="curtain-section" data-curtains-container></div>
                    <div class="decoration-section" data-decorations-container></div>
                    <div class="wallpaper-section" data-wallpapers-container></div>
                </div>
                <div class="room-actions">
                    <button type="button" class="btn btn-xs" data-act="add-curtain">+ ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏ú‡πâ‡∏≤‡∏°‡πà‡∏≤‡∏ô</button>
                    <button type="button" class="btn btn-xs" data-act="add-decoration">+ ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏ï‡∏Å‡πÅ‡∏ï‡πà‡∏á</button>
                    <button type="button" class="btn btn-xs" data-act="add-wallpaper">+ ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏ß‡∏≠‡∏•‡πÄ‡∏õ‡πÄ‡∏õ‡∏≠‡∏£‡πå</button>
                </div>
            </div>
        </div>
    </template>

    <template id="curtainTpl">
        <div class="curtain-item card-sub">
            <div class="row">
                <div class="col-grow"><label>‡∏ï‡∏≥‡πÅ‡∏´‡∏ô‡πà‡∏á</label><input class="field" name="curtain_name" type="text" placeholder="‡πÄ‡∏ä‡πà‡∏ô ‡∏´‡∏ô‡πâ‡∏≤‡∏ï‡πà‡∏≤‡∏á‡πÄ‡∏•‡πá‡∏Å" required /></div>
                <div><button type="button" class="btn btn-xs btn-danger outline" data-act="remove-curtain">‡∏•‡∏ö</button></div>
            </div>
            <div class="row">
                <div><label>‡∏ä‡∏ô‡∏¥‡∏î‡∏ú‡πâ‡∏≤</label>
                    <select class="field" name="curtain_fabric_type" required>
                        <option value="fabric">‡∏ú‡πâ‡∏≤‡∏ó‡∏∂‡∏ö</option>
                        <option value="sheer">‡∏ú‡πâ‡∏≤‡πÇ‡∏õ‡∏£‡πà‡∏á</option>
                    </select>
                </div>
                <div><label>‡∏£‡∏´‡∏±‡∏™‡∏ú‡πâ‡∏≤</label><input class="field" name="curtain_fabric_code" type="text" placeholder="‡πÄ‡∏ä‡πà‡∏ô C-101" /></div>
            </div>
            <div class="row">
                <div><label>‡∏Ñ‡∏ß‡∏≤‡∏°‡∏Å‡∏ß‡πâ‡∏≤‡∏á (‡∏°.)</label><input class="field" name="curtain_width_m" type="number" step="0.01" min="0" required /></div>
                <div><label>‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏π‡∏á (‡∏°.)</label><input class="field" name="curtain_height_m" type="number" step="0.01" min="0" required /></div>
            </div>
            <div class="row">
                <div><label>‡∏™‡πÑ‡∏ï‡∏•‡πå</label>
                    <select class="field" name="curtain_style" required>
                        <option value="‡∏à‡∏µ‡∏ö">‡∏à‡∏µ‡∏ö</option>
                        <option value="‡∏•‡∏≠‡∏ô">‡∏•‡∏≠‡∏ô</option>
                        <option value="‡∏ï‡∏≤‡πÑ‡∏Å‡πà">‡∏ï‡∏≤‡πÑ‡∏Å‡πà</option>
                    </select>
                </div>
                <div><label>‡∏£‡∏´‡∏±‡∏™‡∏£‡∏≤‡∏á</label><input class="field" name="curtain_rail_code" type="text" placeholder="‡πÄ‡∏ä‡πà‡∏ô R-201" /></div>
            </div>
            <div class="small" style="margin-top: 12px; border-top: 1px solid var(--line); padding-top: 8px;" data-curtain-summary>
                ‡∏£‡∏≤‡∏Ñ‡∏≤: <span class="price">0</span> ‡∏ö. ‚Ä¢ ‡πÉ‡∏ä‡πâ <span class="price">0.00</span> ‡∏´‡∏•‡∏≤
            </div>
        </div>
    </template>

    <template id="decorationTpl">
        <div class="decoration-item card-sub">
            <div class="row">
                <div class="col-grow"><label>‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£</label><input class="field" name="decoration_name" type="text" placeholder="‡πÄ‡∏ä‡πà‡∏ô ‡∏°‡∏π‡πà‡∏•‡∏µ‡πà, ‡∏£‡∏≤‡∏á" required /></div>
                <div><button type="button" class="btn btn-xs btn-danger outline" data-act="remove-decoration">‡∏•‡∏ö</button></div>
            </div>
            <div class="row">
                <div><label>‡∏à‡∏≥‡∏ô‡∏ß‡∏ô</label><input class="field" name="decoration_qty" type="number" min="1" value="1" required /></div>
                <div><label>‡∏£‡∏≤‡∏Ñ‡∏≤‡∏ï‡πà‡∏≠‡∏´‡∏ô‡πà‡∏ß‡∏¢</label><input class="field" name="decoration_price" type="text" inputmode="numeric" required /></div>
            </div>
            <div class="small" style="margin-top: 12px; border-top: 1px solid var(--line); padding-top: 8px;" data-decoration-summary>
                ‡∏£‡∏ß‡∏°: <span class="price">0</span> ‡∏ö.
            </div>
        </div>
    </template>

    <template id="wallpaperTpl">
        <div class="wallpaper-item card-sub">
            <div class="row">
                <div class="col-grow"><label>‡∏ï‡∏≥‡πÅ‡∏´‡∏ô‡πà‡∏á</label><input class="field" name="wallpaper_name" type="text" placeholder="‡πÄ‡∏ä‡πà‡∏ô ‡∏ú‡∏ô‡∏±‡∏á‡∏´‡πâ‡∏≠‡∏á‡∏ô‡∏≠‡∏ô" required /></div>
                <div><button type="button" class="btn btn-xs btn-danger outline" data-act="remove-wallpaper">‡∏•‡∏ö</button></div>
            </div>
            <div class="row">
                <div><label>‡∏£‡∏´‡∏±‡∏™‡∏ß‡∏≠‡∏•‡πÄ‡∏õ‡πÄ‡∏õ‡∏≠‡∏£‡πå</label><input class="field" name="wallpaper_code" type="text" placeholder="‡πÄ‡∏ä‡πà‡∏ô W-305" /></div>
                <div><label>‡∏£‡∏≤‡∏Ñ‡∏≤‡∏ï‡πà‡∏≠‡∏°‡πâ‡∏ß‡∏ô</label><input class="field" name="wallpaper_price_roll" type="text" inputmode="numeric" required /></div>
            </div>
            <div class="row">
                <div><label>‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏π‡∏á‡∏´‡πâ‡∏≠‡∏á (‡∏°.)</label><input class="field" name="wallpaper_height_m" type="number" step="0.01" min="0" required /></div>
            </div>
            <div class="walls-section">
                <label>‡∏Ñ‡∏ß‡∏≤‡∏°‡∏Å‡∏ß‡πâ‡∏≤‡∏á‡∏ú‡∏ô‡∏±‡∏á (‡πÉ‡∏™‡πà‡∏ó‡∏µ‡∏•‡∏∞‡∏î‡πâ‡∏≤‡∏ô)</label>
                <div data-walls-container></div>
                <button type="button" class="btn btn-xs" data-act="add-wall" style="margin-top: 8px;">+ ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏ú‡∏ô‡∏±‡∏á</button>
            </div>
            <div class="small" style="margin-top: 12px; border-top: 1px solid var(--line); padding-top: 8px;" data-wallpaper-summary>
                ‡∏£‡∏≤‡∏Ñ‡∏≤: <span class="price">0</span> ‡∏ö. ‚Ä¢ ‡∏û‡∏∑‡πâ‡∏ô‡∏ó‡∏µ‡πà: <span class="price">0.00</span> ‡∏ï‡∏£.‡∏°. ‚Ä¢ ‡πÉ‡∏ä‡πâ <span class="price">0</span> ‡∏°‡πâ‡∏ß‡∏ô
            </div>
        </div>
    </template>

    <template id="wallTpl">
        <div class="wall-input-row">
            <input class="field" name="wall_width_m" type="number" step="0.01" min="0" placeholder="0.00" required />
            <button type="button" class="btn btn-xs btn-danger outline" data-act="remove-wall">‡∏•‡∏ö</button>
        </div>
    </template>

    <script src="script.js"></script>
</body>
</html>