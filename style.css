/* --- Variable & Base Style --- */
:root {
    /* New Deep Ocean Palette */
    --bg: #161a22;           /* Dark, rich background */
    --card-bg: #1f2531;      /* Slightly lighter card background */
    --fg: #e0e5ec;           /* Soft off-white for text */
    --line: #3e4452;         /* Subtle border lines */
    --muted: #94a3b8;        /* Muted gray for secondary text */
    --danger: #ff6b6b;       /* Modern red for danger */
    --primary: #00a389;      /* Deep Teal for primary actions */
    --info: #3b82f6;         /* Bright blue for info actions */

    /* Spacing System */
    --space-xs: 4px;
    --space-sm: 8px;
    --space-md: 16px;
    --space-lg: 24px;
    --space-xl: 32px;

    /* Other Variables */
    --font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, "Noto Sans", sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji";
    --border-radius: 8px;
    --transition-speed: 0.3s;
}

/* Base Styles */
* { box-sizing: border-box; }
html {
    font-family: var(--font-family);
    line-height: 1.6;
    color: var(--fg);
    background-color: var(--bg);
}
body { margin: 0; padding: 0; }
a { color: var(--primary); text-decoration: none; }
h1, h2, h3, h4 { margin: 0 0 var(--space-sm); font-weight: 500; }
.small { font-size: 0.8rem; color: var(--muted); }
.price { font-weight: bold; }
.toast-container { position: fixed; bottom: var(--space-md); right: var(--space-md); z-index: 1000; display: flex; flex-direction: column; gap: var(--space-sm); }
.toast { background-color: var(--card-bg); border: 1px solid var(--line); border-radius: var(--border-radius); padding: var(--space-sm) var(--space-md); font-size: 0.9rem; opacity: 0; transform: translateY(var(--space-md)); transition: opacity var(--transition-speed) ease, transform var(--transition-speed) ease; }
.toast.show { opacity: 1; transform: translateY(0); }
.toast.toast-success { border-color: var(--primary); color: var(--primary); }
.toast.toast-error { border-color: var(--danger); color: var(--danger); }

/* Layout & Components */
.main-header, .main-content { max-width: 900px; margin: 0 auto; padding: var(--space-md); }
.main-header { display: flex; align-items: center; justify-content: space-between; gap: var(--space-sm); background-color: var(--bg); position: sticky; top: 0; z-index: 500; }
.main-header h1 { font-size: 1.5rem; margin: 0; }

.grid { display: grid; }
.gap-sm { gap: var(--space-sm); }
.gap-md { gap: var(--space-md); }
.grid-2 { grid-template-columns: repeat(2, 1fr); }
.grid-3 { grid-template-columns: repeat(3, 1fr); }
.card { background-color: var(--card-bg); border-radius: var(--border-radius); padding: var(--space-md); box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1); }
.card-header { font-weight: 500; margin-bottom: var(--space-sm); font-size: 1.1rem; border-bottom: 1px solid var(--line); padding-bottom: var(--space-sm); }

/* Forms */
label { display: block; font-size: 0.9rem; margin-bottom: var(--space-xs); color: var(--muted); }
.field { width: 100%; padding: var(--space-sm); border-radius: var(--border-radius); border: 1px solid var(--line); background-color: var(--bg); color: var(--fg); font-size: 1rem; }
.field:focus { outline: none; border-color: var(--primary); }

.btn { display: inline-block; padding: var(--space-sm) var(--space-md); border: none; border-radius: var(--border-radius); cursor: pointer; font-size: 1rem; transition: background-color var(--transition-speed) ease; }
.btn-primary { background-color: var(--primary); color: var(--bg); }
.btn-primary:hover { background-color: #00876f; }
.btn-danger { background-color: var(--danger); color: var(--bg); }
.btn-danger:hover { background-color: #e55c5c; }
.btn-icon { background: none; border: none; color: var(--muted); padding: var(--space-sm); }
.btn-icon:hover { color: var(--fg); }
.btn-xs { font-size: 0.8rem; padding: var(--space-xs) var(--space-sm); }
.btn.outline { background: none; border: 1px solid var(--primary); color: var(--primary); }
.btn.outline:hover { background: rgba(0, 163, 137, 0.1); }

/* Dynamic Content & Cards */
.customer-info-card, .total-summary-card { margin-bottom: var(--space-md); }
.rooms-container { display: flex; flex-direction: column; gap: var(--space-md); }
.room-details { overflow: hidden; }
.room-summary { display: flex; justify-content: space-between; align-items: center; cursor: pointer; list-style: none; }
.room-summary::-webkit-details-marker { display: none; }
.room-head { display: flex; align-items: center; gap: var(--space-sm); }
.room-name-input { background: none; border: none; color: var(--fg); font-size: 1.2rem; font-weight: bold; width: 100%; }
.room-name-input:focus { outline: none; }
.room-head-right { display: flex; align-items: center; gap: var(--space-sm); }

.curtain-card, .wallpaper-card { margin-top: var(--space-md); padding: var(--space-md); border: 1px solid var(--line); border-radius: var(--border-radius); }
.curtain-head, .wallpaper-head { display: flex; justify-content: space-between; align-items: center; font-weight: bold; margin-bottom: var(--space-sm); }
.curtain-content, .wallpaper-content { display: grid; gap: var(--space-sm); }
.walls-container { display: flex; flex-direction: column; gap: var(--space-sm); }
.wall-input-row { display: flex; gap: var(--space-sm); }
.wall-input-row .field { flex-grow: 1; }

.summary { margin-top: var(--space-sm); font-size: 0.9rem; border-top: 1px solid var(--line); padding-top: var(--space-sm); }
.total-summary-body { display: flex; flex-direction: column; gap: var(--space-xs); }

/* Responsive */
@media (min-width: 600px) {
    .customer-info-card .card-body { grid-template-columns: repeat(3, 1fr); }
    .curtain-content { grid-template-columns: repeat(2, 1fr); }
    .wallpaper-content { grid-template-columns: 1fr 1fr; }
}